let hamburger=document.querySelector(".hamburger"),menu=document.querySelector(".navmenu");hamburger.onclick=function(){menu.classList.toggle("active-burger")};const parallaxBG=document.querySelectorAll(".parallax");function moveBackground(e){let t=e.pageY-window.pageYOffset-e.target.getBoundingClientRect().top+1,n=50+e.pageX/window.innerWidth*15,o=50+t/window.innerHeight*20;e.target.style.backgroundPosition=`${n}% ${o}%`}let firstVisit,lastVisit,timeInSite,firstTimeInSite;parallaxBG.forEach((e=>{e.style.backgroundPosition="center",e.addEventListener("mousemove",(function(e){moveBackground(e)}))})),window.onload=function(){localStorage.firstVisit&&"undefined"!=localStorage.firstVisit||(localStorage.firstVisit=new Date),firstVisit=localStorage.firstVisit,localStorage.lastVisit||(localStorage.lastVisit=firstVisit),timeInSite=(new Date-new Date(localStorage.lastVisit))/1e3/60,timeInSite<=5?console.log("З поверненням"):timeInSite>1440?console.log("Вітаємо знову на нашому сайті"):timeInSite>2880&&console.log("З поверненням"),window.onblur=function(){localStorage.lastVisit=new Date},lastVisit=localStorage.lastVisit};let interval,menun=document.querySelectorAll(".top-menu a");function scrollToBlock(e){let t,n,o=document.querySelector(e).getBoundingClientRect().top+window.pageYOffset,i=window.pageYOffset,l=1;t=o>i?"down":"up",clearInterval(interval),interval=setInterval((()=>{n=Math.abs(o-window.pageYOffset),l<=55&&n>.4*window.innerHeight?l*=1.2:n<.4*window.innerHeight&&l>3&&(l*=.8),"down"==t?window.scrollTo(0,window.pageYOffset+l):window.scrollTo(0,window.pageYOffset-l),Math.abs(window.pageYOffset-o)<=3?(window.scrollTo(0,o),clearInterval(interval)):Math.abs(window.pageYOffset+window.innerHeight-document.body.getBoundingClientRect().height)<5&&clearInterval(interval)}),20)}menun.forEach((e=>{e.onclick=function(e){e.preventDefault(),scrollToBlock(this.getAttribute("href"))}}));let timer,tripleClick=document.querySelector(".rock-solid svg"),changeText=document.querySelectorAll(".personal h3");function changeTex(){changeText.forEach((e=>{e.innerText="Cliiiiick"}))}tripleClick.addEventListener("dblclick",(function(){timer=setTimeout((function(){timer=null}),200)})),tripleClick.addEventListener("click",(function(){timer&&(clearTimeout(timer),timer=null,changeTex())}));const animItems=document.querySelectorAll("._anim-start");if(animItems.length>0){function animOnScroll(){animItems.forEach((e=>{const t=e,n=t.offsetHeight,o=offset(t).top;let i=window.innerHeight-n/4;n>window.innerHeight&&(i=window.innerHeight-window.innerHeight/4),window.pageYOffset>o-i&&window.pageYOffset<o+n?t.classList.add("_active-anim"):t.classList.contains("_anim-no")||t.classList.remove("_active-anim")}))}function offset(e){const t=e.getBoundingClientRect();let n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}window.addEventListener("scroll",animOnScroll),setTimeout((()=>{animOnScroll()}),200)}function infinitySlider(e,t){let n,o,i,l,r,s,a=0,c=document.querySelector(e),d=c.querySelector(".slider-card"),g=d.getBoundingClientRect().width,f=d.children,u=c.querySelector(".sliderBtn.left"),w=c.querySelector(".sliderBtn.right");localStorage.constCardWidth?r=localStorage.constCardWidth:(r=f[0].getBoundingClientRect().width,localStorage.constCardWidth=r),s=Math.floor(g/r),c.querySelectorAll(".clone").forEach((e=>{e.remove()})),t={slidetoshow:1,slidetoscroll:1,gap:20,arrows:!0,autoplay:!0,autoplayspeed:3e3,responsive:[],...t},o=t.gap,n=(g-(s-1)*o)/s,a=0-(o+n);for(let e=1;e<=t.slidetoscroll;e++)i=f[f.length-e].cloneNode(!0),i.classList.add("clone"),d.insertAdjacentElement("afterbegin",i);f=d.children;for(let e=0;e<f.length;e++)f[e].style.width=n+"px";function m(){a=0-(o+n),!t.arrows||f.length-1<=s?(u.style.display="none",w.style.display="none"):(u.style.display="block",w.style.display="block");for(let e=0;e<f.length;e++)f[e].style.left=a+"px",a+=o+n}function h(e){if("left"==e){f[f.length-1].remove();let e=f[f.length-1].cloneNode(!0);d.insertAdjacentElement("afterbegin",e)}else if("right"==e){f[0].remove();let e=f[0].cloneNode(!0);d.insertAdjacentElement("beforeend",e)}m()}l=f[0].getBoundingClientRect().height,d.style.height=l+"px",console.log(l),m(),u.onclick=function(){h("left")},w.onclick=function(){h("right")}}window.onresize=function(){infinitySlider(".slider",{responsive:[{breakpoint:625,slidetoshow:2,slidetoscroll:1,arrows:!0},{breakpoint:912,slidetoshow:3,slidetoscroll:1,arrows:!0},{breakpoint:1196,slidetoshow:4,slidetoscroll:1,arrows:!0}]})},infinitySlider(".slider",{responsive:[{breakpoint:625,slidetoshow:2,slidetoscroll:1,arrows:!0},{breakpoint:912,slidetoshow:3,slidetoscroll:1,arrows:!0},{breakpoint:1196,slidetoshow:4,slidetoscroll:1,arrows:!0}]});
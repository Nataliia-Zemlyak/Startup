let hamburger=document.querySelector(".hamburger"),menu=document.querySelector(".navmenu");hamburger.onclick=function(){menu.classList.toggle("active-burger")};const headerSection=document.querySelector(".header-section");let lastScrollTop=0;function menuBackground(){let e=window.pageYOffset||document.documentElement.scrollTop;e>lastScrollTop?headerSection.classList.add("header-hidden"):headerSection.classList.remove("header-hidden"),lastScrollTop=e<=0?0:e,window.pageYOffset>window.innerHeight/4?headerSection.style.backgroundColor="#c0301c":headerSection.style.backgroundColor="transparent"}window.addEventListener("scroll",menuBackground);const parallaxBG=document.querySelectorAll(".parallax");function moveBackground(e){let t=e.pageY-window.pageYOffset-e.target.getBoundingClientRect().top+1,n=50+e.pageX/window.innerWidth*15,o=50+t/window.innerHeight*20;e.target.style.backgroundPosition=`${n}% ${o}%`}let firstVisit,lastVisit,timeInSite,firstTimeInSite;parallaxBG.forEach((e=>{e.style.backgroundPosition="center",e.addEventListener("mousemove",(function(e){moveBackground(e)}))})),window.onload=function(){localStorage.firstVisit&&"undefined"!=localStorage.firstVisit||(localStorage.firstVisit=new Date),firstVisit=localStorage.firstVisit,localStorage.lastVisit||(localStorage.lastVisit=firstVisit),timeInSite=(new Date-new Date(localStorage.lastVisit))/1e3/60,timeInSite<=5?console.log("З поверненням"):timeInSite>1440?console.log("Вітаємо знову на нашому сайті"):timeInSite>2880&&console.log("З поверненням"),window.onblur=function(){localStorage.lastVisit=new Date},lastVisit=localStorage.lastVisit};let interval,menun=document.querySelectorAll(".top-menu a");function scrollToBlock(e){let t,n,o=document.querySelector(e).getBoundingClientRect().top+window.pageYOffset,l=window.pageYOffset,i=1;t=o>l?"down":"up",clearInterval(interval),interval=setInterval((()=>{n=Math.abs(o-window.pageYOffset),i<=55&&n>.4*window.innerHeight?i*=1.2:n<.4*window.innerHeight&&i>3&&(i*=.8),"down"==t?window.scrollTo(0,window.pageYOffset+i):window.scrollTo(0,window.pageYOffset-i),Math.abs(window.pageYOffset-o)<=3?(window.scrollTo(0,o),clearInterval(interval)):Math.abs(window.pageYOffset+window.innerHeight-document.body.getBoundingClientRect().height)<5&&clearInterval(interval)}),20)}menun.forEach((e=>{e.onclick=function(e){e.preventDefault(),scrollToBlock(this.getAttribute("href"))}}));let timer,tripleClick=document.querySelector(".rock-solid svg"),changeText=document.querySelectorAll(".personal h3");function changeTex(){changeText.forEach((e=>{e.innerText="Cliiiiick"}))}tripleClick.addEventListener("dblclick",(function(){timer=setTimeout((function(){timer=null}),200)})),tripleClick.addEventListener("click",(function(){timer&&(clearTimeout(timer),timer=null,changeTex())}));const animItems=document.querySelectorAll("._anim-start");if(animItems.length>0){function animOnScroll(){animItems.forEach((e=>{const t=e,n=t.offsetHeight,o=offset(t).top;let l=window.innerHeight-n/4;n>window.innerHeight&&(l=window.innerHeight-window.innerHeight/4),window.pageYOffset>o-l&&window.pageYOffset<o+n?t.classList.add("_active-anim"):t.classList.contains("_anim-no")||t.classList.remove("_active-anim")}))}function offset(e){const t=e.getBoundingClientRect();let n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}window.addEventListener("scroll",animOnScroll),setTimeout((()=>{animOnScroll()}),200)}const sliderProps={arrows:!0},sliderProppsBrands={gap:60,slideToScrollAll:!1};function infinitySlider(e,t){window.onresize=function(){infinitySlider(e,t)};let n,o,l,i,c,r,s,a,d,u,g=0,p=document.querySelector(e),f=p.querySelector(".slider-card"),m=f.getBoundingClientRect().width,h=f.children;p.querySelectorAll(".clone").forEach((e=>{e.remove()})),localStorage[p.id]?(clearInterval(localStorage[p.id+"interval"]),s=localStorage[p.id]):(s=h[0].getBoundingClientRect().width,localStorage[p.id]=s),a=Math.floor(m/s),t={slideToScrollAll:!0,gap:20,autoplay:!0,arrows:!1,autoplayspeed:3e3,...t},i=t.gap,n=(m-(a-1)*i)/a,g=0-(i+n),t.arrows&&document.querySelectorAll(".cards-slider").length<1&&(o=document.createElement("span"),l=document.createElement("span"),o.className="cards-slider left",l.className="cards-slider right",p.insertAdjacentElement("afterbegin",o),p.insertAdjacentElement("beforeend",l),o.onclick=function(){y("left")},l.onclick=function(){y("right")}),o=p.querySelector(".left"),l=p.querySelector(".right"),t.arrows&&h.length<=a?(o.style.display="none",l.style.display="none"):t.arrows&&(o.style.display="block",l.style.display="block");let w=1;do{c=h[h.length-w].cloneNode(!0),c.classList.add("clone"),c.style.transition="none",f.insertAdjacentElement("afterbegin",c),u=h.length-p.querySelectorAll(".clone").length,w++}while(w<=u&&t.slideToScrollAll);if(t.slideToScrollAll)for(w=0;w<u;)c=h[w].cloneNode(!0),c.classList.add("clone"),c.style.transition="none",f.insertAdjacentElement("beforeend",c),w++;h=f.children,c.classList.contains("clone")&&p.querySelectorAll(".clone").forEach((e=>{setTimeout((()=>{e.style.transition="all 1.3s cubic-bezier(.44,-0.13,.43,1.13)"}),1)}));for(let e=0;e<h.length;e++)h[e].style.width=n+"px";function S(){g=0-(i+n),h=f.children,t.slideToScrollAll&&(g=0-(i+n)*u);for(let e=0;e<h.length;e++)h[e].style.left=g+"px",g+=i+n}function y(e){if(m=f.getBoundingClientRect().width,a=Math.floor(m/s),n=(m-(a-1)*i)/a,h=f.children,"left"==e)if(t.slideToScrollAll)for(let e=0;e<a;e++)f.insertAdjacentElement("afterbegin",h[h.length-1]);else{h[h.length-1].remove();let e=h[h.length-1].cloneNode(!0);e.classList.add("clone"),f.insertAdjacentElement("afterbegin",e),h[1].classList.remove("clone")}else if("right"==e)if(t.slideToScrollAll)for(let e=0;e<a;e++)f.insertAdjacentElement("beforeend",h[0]);else{h[0].remove();let e=h[0].cloneNode(!0);e.classList.add("clone"),f.insertAdjacentElement("beforeend",e),h[h.length-2].classList.remove("clone")}S()}function k(){t.autoplay&&h.length-1>a&&(d=setInterval((()=>{y("right"),console.log("next slide")}),t.autoplayspeed),localStorage[p.id+"interval"]=d)}r=h[0].getBoundingClientRect().height,f.style.height=r+"px",S(),t.autoplay&&k(),window.onscroll=()=>{clearInterval(localStorage[p.id+"interval"]),p.classList.contains("_active-anim")&&k()},p.onmouseenter=()=>{clearInterval(localStorage[p.id+"interval"])},p.onmouseleave=()=>{k()}}infinitySlider(".slider",sliderProps),infinitySlider(".sliderBrands",sliderProppsBrands);const popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding"),timeout=800;let unlock=!0;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const n=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(n)),e.preventDefault()}))}const popupCloseIkon=document.querySelectorAll(".close-popup");if(popupCloseIkon.length>0)for(let n=0;n<popupCloseIkon.length;n++){const o=popupCloseIkon[n];o.addEventListener("click",(function(e){popupClose(o.closest(".popup")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup-content")||popupClose(e.target.closest(".popup"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnLock())}function bodyLock(){const e=window.innerWidth-document.querySelector("section").offsetWidth+"px";for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),800)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),800),unlock=!1,setTimeout((function(){unlock=!0}),800)}